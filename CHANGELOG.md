# CHANGELOG

本文档记录了项目的所有重要变更。

## [1.2.0] - 2025-09-30

### Added

- 添加市场报告导出界面，支持多种格式（如 Markdown、PDF 等）
- 新增市场新闻数据获取与展示功能
- 增加回测模块及可视化工具，支持策略分析和交易记录展示
- 添加股票回测示例，包含多种策略及可视化分析
- 增强字体支持，自动安装中文字体及字体显示测试
- 添加风险指标计算与格式化、市场情绪分析、股息分红、ETF持仓数据获取功能
- 增强市场数据缓存管理，支持指数相关数据的缓存与更新
- 添加自定义JSON编码器以适配 numpy、pandas 类型
- 新增市场K线数据管理器和多指数估值、动态映射功能

### Changed

- 优化市场分析报告生成逻辑，统一数据收集和格式化
- 重构技术指标/风险指标格式化及获取逻辑，采用市场工具类
- 优化并重构市场报告及股票分析页面，支持多种导出格式
- 优化数据格式化、缓存加载与保存、综合分析缓存逻辑
- 优化市场情绪数据获取及综合分析
- 优化ETF、财务指标等数据展示与格式化
- 调整目录结构
- 细化M2描述

### Fixed

- 修复缓存数据丢失及异常处理逻辑（如 fetch 失败不存 cache）
- 优化买卖信号处理，提升回测引擎稳定性
- 跳过无效字段，优化生成报告时的异常容错
- 进一步提升代码可读性和维护性

### Removed

- 清理多余代码和无用 debug 信息


## [1.1.0] - 2025-09-05

### Added

- 添加大盘报告生成功能，支持生成详细的市场分析报告
- 新增无界面脚本支持，可批量生成大盘和个股报告
- 在个股AI的各个子分析界面中加入当前股价作为参考依据
- 在个股AI技术分析中加入风险参数（VaR、回撤等指标）
- 发布 Docker Hub 版本，方便部署和分发

### Changed

- 修改了所有股票预测相关的提示词
- 简化股票相关函数接口，提升易用性和可维护性
- 优化缓存文件内容结构，减少存储空间占用和文件复杂度
- 优化重复调用逻辑，提升系统性能
- 改进清除缓存的逻辑和用户界面

### Fixed

- 修复界面显示问题：单位格式、空值处理、容错机制

### Removed

- 清理冗余代码和无用注释


## [1.0.0] - 2025-09-01

### Added

- 项目初始版本发布
- 支持股票和基金的实时行情获取
- 集成大模型进行智能分析
- 提供大盘分析和个股分析功能
- 支持多种AI模型（OpenAI、阿里百炼、DeepSeek等）
- Docker容器化部署支持
- Web界面操作
